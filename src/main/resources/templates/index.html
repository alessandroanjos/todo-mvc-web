<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:th="http://www.thymeleaf.org">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
 <title>Todo App</title>
 <link href="webjars/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" />
 <script src="webjars/bootstrap/4.0.0/js/bootstrap.min.js" ></script>
 <script src="webjars/jquery/3.0.0/jquery.min.js" ></script>
</head>
<body>
 
	<div class="container h-100">
		<div class="row h-100 justify-content-center align-items-center">
			<div class="col-md-7 table-responsive">
				<h2>Todo App</h2>
				<form class="form-horizontal" role="form" method="POST" th:action="@{/todo}" th:object="${todo}">
				 
				 <div class="form-group">
						<div class="input-group">						
							 <input type="text" id="name" th:field="*{name}" class="form-control width 5"/>
							<span	class="input-group-btn">
								<button class="btn btn-primary" type="submit" >Add</button>
							</span>
						</div>				 
				  </div>
				  
			   </form>
				<table id="customerTable" class="table">
					<thead>
						<tr>
						</tr>
					</thead>
					<tbody>
						<tr th:each="todo: ${todos}">
							<td>
								<input type="checkbox" name="checkboxStatus" onchange="doChangeStatusTodo(this)" th:checked="${todo.complete}" class="checkbox-inline" data-id="1" th:value="${todo.id}">
							</td>
							<td th:text="${todo.name}"></td>
							<td><a class="delete btn btn-sm btn-danger" th:href="@{/deleteTodo/{id}(id=${todo.id})}">Excluir</a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>

</body>

<script>
  function doChangeStatusTodo(checkboxElem) {
	  var id = checkboxElem.value
	  $.post("/changeStatusTodo/", {
			id : id
		}, function(data) {
			
		}).done(function() {
		}).fail(function(xhr, textStatus, errorThrown) {
		}).complete(function() {		
		});
	}
</script>


</html>